(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{38:function(e,t,n){e.exports=n(79)},47:function(e,t,n){},49:function(e,t,n){},51:function(e,t,n){},53:function(e,t,n){},55:function(e,t,n){},57:function(e,t,n){},79:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(32),i=n.n(o),c=n(9),l=n(82),u=n(84),s=n(83),m=(n(47),n(81)),p=Object(c.b)()(function(){return r.a.createElement("header",{className:"shop-header row"},r.a.createElement(m.a,{className:"logo",to:"/#"},"PokeAPI"),r.a.createElement(m.a,{className:"logo",to:"/pokemons/1/"},"Browse Poke"))}),g=function(){return r.a.createElement(r.a.Fragment,null)},f=n(6),d=n(7),h=n(10),E=n(8),v=n(11),C=n(37),b=r.a.createContext(),k=b.Provider,S=b.Consumer,y=function(){return function(e){return function(t){return r.a.createElement(S,null,function(n){return r.a.createElement(e,Object.assign({},t,{storeService:n}))})}}},P=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.reduceRight(function(e,t){return t(e)},e)}},j=(n(49),function(){return r.a.createElement("div",null,"404 not found!")}),O=(n(51),function(){return r.a.createElement("div",null,"loading...")}),T=(n(53),function(e){var t=e.item,n=e.field,a=e.label,o=e.itemTag;return r.a.createElement(o,null,"".concat(a," ").concat(t[n]))}),R=function(e){var t=e.item,n=(e.itemId,e.onAddedToCart,Object(C.a)(e,["item","itemId","onAddedToCart"])),a=t.name;return console.log(t),r.a.createElement("div",{className:"preview-item"},r.a.createElement("img",{src:t.sprites.front_default,alt:"game",className:"item-details-img"}),r.a.createElement("div",{className:"item-details"},r.a.createElement("h4",null,a),r.a.Children.map(n.children,function(e){return r.a.cloneElement(e,{item:t})})))},N=function(e){function t(){return Object(f.a)(this,t),Object(h.a)(this,Object(E.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchItem(this.props.pokemon)}},{key:"render",value:function(){console.log();var e=this.props,t=e.item,n=e.loading,a=e.error;return n?r.a.createElement(O,null):a?r.a.createElement(j,null):r.a.createElement(r.a.Fragment,null,r.a.createElement(R,{item:t},r.a.createElement(T,{itemTag:"span",label:"Weight: ",field:"weight"}),r.a.createElement(T,{itemTag:"span",label:"Height: ",field:"height"})))}}]),t}(r.a.Component),L=P(y(),Object(c.b)(function(e){var t=e.itemDetails;return{item:t.item,loading:t.loading,error:t.error}},function(e,t){var n=t.storeService;return{fetchItem:function(t){return e((a=n,function(e){return function(t){t({type:"FETCH_ITEM_REQUEST"}),a.getPokemon(e).then(function(e){return t({type:"FETCH_ITEM_SUCCESS",payload:e})}).catch(function(e){return t({type:"FETCH_ITEM_FAILURE",payload:e})})}})(t));var a}}}))(N),_=n(12),I="LEFT",M="RIGHT",w=function(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=e,r=[];a<=t;)r.push(a),a+=n;return r},F=function(e){function t(e){var n;Object(f.a)(this,t),(n=Object(h.a)(this,Object(E.a)(t).call(this,e))).gotoPage=function(e){var t=n.props.onPageChanged,a=void 0===t?function(e){return e}:t,r=Math.max(0,Math.min(e,n.totalPages)),o={currentPage:r,totalPages:n.totalPages,pageLimit:n.pageLimit,totalRecords:n.totalRecords};n.setState({currentPage:r},function(){return a(o)})},n.handleClick=function(e){n.gotoPage(e)},n.handleMoveLeft=function(){n.gotoPage(n.props.currentPage-2*n.pageNeighbours-1)},n.handleMoveRight=function(){n.gotoPage(n.props.currentPage+2*n.pageNeighbours+1)},n.fetchPageNumbers=function(){var e=n.totalPages,t=n.props.currentPage,a=n.pageNeighbours,r=2*n.pageNeighbours+3;if(e>r+2){var o=[],i=t-a,c=t+a,l=e-1,u=i>2?i:2,s=c<l?c:l,m=r-(o=w(u,s)).length-1,p=u>2,g=s<l,f=I,d=M;if(p&&!g){var h=w(u-m,u-1);o=[f].concat(Object(_.a)(h),Object(_.a)(o))}else if(!p&&g){var E=w(s+1,s+m);o=[].concat(Object(_.a)(o),Object(_.a)(E),[d])}else p&&g&&(o=[f].concat(Object(_.a)(o),[d]));return[1].concat(Object(_.a)(o),[e])}return w(1,e)};var a=e.totalRecords,r=void 0===a?null:a,o=e.pageLimit,i=void 0===o?30:o,c=e.pageNeighbours,l=void 0===c?0:c;return n.pageLimit="number"===typeof i?i:30,n.totalRecords="number"===typeof r?r:0,n.pageNeighbours="number"===typeof l?Math.max(0,Math.min(l,2)):0,n.totalPages=Math.ceil(n.totalRecords/n.pageLimit),n}return Object(v.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.gotoPage(1)}},{key:"render",value:function(){var e=this;if(!this.totalRecords)return null;if(1===this.totalPages)return null;var t=this.props.currentPage,n=this.fetchPageNumbers();return r.a.createElement(a.Fragment,null,r.a.createElement("nav",{"aria-label":"Countries Pagination"},r.a.createElement("ul",{className:"pagination"},n.map(function(n,a){return n===I?r.a.createElement("li",{key:a,className:"page-item"},r.a.createElement(m.a,{className:"page-link",to:"/pokemons/".concat(e.props.currentPage-1,"/"),"aria-label":"Previous"},r.a.createElement("i",{class:"fas fa-caret-left"}))):n===M?r.a.createElement("li",{key:a,className:"page-item"},r.a.createElement(m.a,{className:"page-link",to:"/pokemons/".concat(e.props.currentPage+1,"/"),"aria-label":"Next"},r.a.createElement("i",{class:"fas fa-caret-right"}))):r.a.createElement("li",{key:a,className:"page-item".concat(t===n?" active":"")},r.a.createElement(m.a,{className:"page-link",to:"/pokemons/".concat(n,"/"),onClick:function(){return e.handleClick(n)}},n))}))))}}]),t}(a.Component),U=(n(55),function(e){var t=e.items,n=e.pageRouterSelected,a=e.listCount;return r.a.createElement("div",{className:"item-list"},t.map(function(e,t){var o=t+1+n*a;return r.a.createElement("div",{key:t,className:"show-item"},r.a.createElement("img",{src:"https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/".concat(o,".png"),alt:"pokemon"}),r.a.createElement(m.a,{to:"/pokemon/".concat(e.name)},e.name))}))}),H=function(e){function t(){var e,n;Object(f.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(h.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(r)))).handlePageClick=function(e){console.log(e.currentPage)},n}return Object(v.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.pageRouterSelected,n=e.listCount;this.props.fetchItems(t*n,n)}},{key:"componentDidUpdate",value:function(e){if(this.props.pageRouterSelected!==e.pageRouterSelected){var t=this.props,n=t.pageRouterSelected,a=t.listCount;this.props.fetchItems(n*a,a)}}},{key:"render",value:function(){var e=this.props,t=e.items,n=e.loading,a=e.error,o=(e.pageSelected,e.listCount),i=(e.itemsCount,e.pageRouterSelected);return n?r.a.createElement(O,null):a?r.a.createElement(j,null):r.a.createElement(r.a.Fragment,null,r.a.createElement(U,{listCount:o,pageRouterSelected:i,items:t}),r.a.createElement(F,{totalRecords:965,pageLimit:30,pageNeighbours:1,onPageChanged:this.handlePageClick,currentPage:i+1}))}}]),t}(a.Component),A=P(y(),Object(c.b)(function(e){var t=e.itemList;return{items:t.items,pageSelected:t.pageSelected,listCount:t.listCount,itemsCount:t.itemsCount,loading:t.loading,error:t.error}},function(e,t){var n=t.storeService;return{fetchItems:function(t,a){return e((r=n,function(e,t){return function(n){n({type:"FETCH_ITEMS_REQUEST"}),r.getPokemonList(e,t).then(function(e){return n({type:"FETCH_ITEMS_SUCCESS",payload:e.results})}).catch(function(e){return n({type:"FETCH_ITEMS_FAILURE",payload:e})})}})(t,a));var r},handlePageNumber:function(t){return e(function(e){return{type:"PAGE_NUMBER",payload:e}}(t))}}}))(H),x=(n(57),function(){return r.a.createElement("main",{role:"main",className:"container"},r.a.createElement(p,null),r.a.createElement(u.a,null,r.a.createElement(s.a,{path:"/",component:g,exact:!0}),r.a.createElement(s.a,{path:"/pokemon/:name",render:function(e){var t=e.match.params.name;return r.a.createElement(L,{pokemon:t})},exact:!0}),r.a.createElement(s.a,{path:"/pokemons/:id",render:function(e){var t=e.match.params.id;return r.a.createElement(A,{pageRouterSelected:Number(t-1)})},exact:!0})))}),D=function(e){function t(){var e,n;Object(f.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(h.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(r)))).state={hasError:!1},n}return Object(v.a)(t,e),Object(d.a)(t,[{key:"componentDidCatch",value:function(){this.setState({hasError:!0})}},{key:"render",value:function(){return this.state.hasError?r.a.createElement(j,null):this.props.children}}]),t}(a.Component),B=n(14),Q=n.n(B),G=n(21),J=n(35),W=n.n(J),q=n(13),z=n(36),K=function(e,t){if(void 0===e)return{items:[],pageSelected:0,listCount:30,itemsCount:964,loading:!0,error:null};switch(t.type){case"FETCH_ITEMS_REQUEST":return{items:[],pageSelected:e.itemList.pageSelected,listCount:e.itemList.listCount,itemsCount:e.itemList.itemsCount,loading:!0,error:null};case"FETCH_ITEMS_SUCCESS":return{items:t.payload,pageSelected:e.itemList.pageSelected,listCount:e.itemList.listCount,itemsCount:e.itemList.itemsCount,loading:!1,error:null};case"FETCH_ITEMS_FAILURE":return{items:[],pageSelected:e.itemList.pageSelected,listCount:e.itemList.listCount,itemsCount:e.itemList.itemsCount,loading:!1,error:t.payload};case"PAGE_NUMBER":return{items:e.itemList.items,pageSelected:t.payload,listCount:e.itemList.listCount,itemsCount:e.itemList.itemsCount,loading:!1,error:null};default:return e.itemList}},V=function(e,t){if(void 0===e)return{item:[],loading:!0,error:null};switch(t.type){case"FETCH_ITEM_REQUEST":return{item:[],loading:!0,error:null};case"FETCH_ITEM_SUCCESS":return{item:t.payload,loading:!1,error:null};case"FETCH_ITEM_FAILURE":return{item:[],loading:!1,error:t.payload};default:return e.itemDetails}},X=function(e,t){return{itemList:K(e,t),itemDetails:V(e,t)}},Y=Object(q.c)(X,Object(q.a)(z.a)),Z=new function e(){var t=this;Object(f.a)(this,e),this._apiBase="https://pokeapi.co/api/v2",this.getResource=function(e){return W.a.get("".concat(t._apiBase).concat(e))},this.getPokemonList=function(){var e=Object(G.a)(Q.a.mark(function e(n,a){var r;return Q.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getResource("/pokemon/?offset=".concat(n,"&limit=").concat(a));case 2:return r=e.sent,console.log(r.data),e.abrupt("return",r.data);case 5:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),this.getPokemon=function(){var e=Object(G.a)(Q.a.mark(function e(n){var a;return Q.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getResource("/pokemon/".concat(n,"/"));case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()};i.a.render(r.a.createElement(c.a,{store:Y},r.a.createElement(D,null,r.a.createElement(k,{value:Z},r.a.createElement(l.a,null,r.a.createElement(x,null))))),document.getElementById("app"))}},[[38,2,1]]]);
//# sourceMappingURL=main.a201b01b.chunk.js.map