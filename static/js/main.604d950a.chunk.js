(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{34:function(e,t,n){e.exports=n.p+"static/media/logo.24c0b6c6.png"},39:function(e,t,n){e.exports=n(80)},48:function(e,t,n){},50:function(e,t,n){},52:function(e,t,n){},54:function(e,t,n){},56:function(e,t,n){},58:function(e,t,n){},80:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(32),i=n.n(o),c=n(12),u=n(83),l=n(85),s=n(84),m=(n(48),n(82)),p=n(34),g=n.n(p),f=function(){return r.a.createElement("header",{className:"header row"},r.a.createElement(m.a,{to:"/#"},r.a.createElement("img",{className:"header-logo",src:g.a,alt:"logo"})))},E=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(m.a,{to:"/pokemons/1/"},"Browse Poke"))},h=r.a.createContext(),d=h.Provider,v=h.Consumer,C=function(){return function(e){return function(t){return r.a.createElement(v,null,function(n){return r.a.createElement(e,Object.assign({},t,{storeService:n}))})}}},b=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.reduceRight(function(e,t){return t(e)},e)}},k=n(6),y=n(8),I=n(10),O=n(9),S=n(11),P=n(38),j=(n(50),function(e){var t=e.item,n=Object(P.a)(e,["item"]),a=t.name;return console.log(t),r.a.createElement("div",{className:"preview-item"},r.a.createElement("img",{src:t.sprites.front_default,alt:"game",className:"item-details-img"}),r.a.createElement("div",{className:"item-details"},r.a.createElement("h4",null,a),r.a.Children.map(n.children,function(e){return r.a.cloneElement(e,{item:t})})))}),R=(n(52),function(){return r.a.createElement("div",null,"404 not found!")}),T=(n(54),function(){return r.a.createElement("div",null,"loading...")}),_=function(e){var t=e.item,n=e.field,a=e.label,o=e.itemTag;return r.a.createElement(o,null,"".concat(a," ").concat(t[n]))},L=function(e){function t(){return Object(k.a)(this,t),Object(I.a)(this,Object(O.a)(t).apply(this,arguments))}return Object(S.a)(t,e),Object(y.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchItem(this.props.fetchItemValue)}},{key:"render",value:function(){var e=this.props,t=e.item,n=e.loading,a=e.error;return n?r.a.createElement(T,null):a?r.a.createElement(R,null):r.a.createElement(r.a.Fragment,null,r.a.createElement(j,{item:t},r.a.createElement(_,{itemTag:"span",label:"Weight: ",field:"weight"}),r.a.createElement(_,{itemTag:"span",label:"Height: ",field:"height"})))}}]),t}(r.a.Component),N=b(C(),Object(c.b)(function(e){var t=e.pokemonDetails;return{item:t.item,loading:t.loading,error:t.error}},function(e,t){var n=t.storeService;return{fetchItem:function(t){return e((a=n,function(e){return function(t){t({type:"FETCH_ITEM_REQUEST"}),a.getPokemon(e).then(function(e){return t({type:"FETCH_ITEM_SUCCESS",payload:e})}).catch(function(e){return t({type:"FETCH_ITEM_FAILURE",payload:e})})}})(t));var a}}}))(function(e){var t=e.item,n=e.loading,a=e.error,o=e.fetchItem,i=e.pokemon;return r.a.createElement(r.a.Fragment,null,r.a.createElement(L,{fetchItemValue:i,fetchItem:o,error:a,loading:n,item:t}))}),M=(n(56),function(e){var t=e.items,n=e.pageRouterSelected,a=e.listCount,o=e.onError;return r.a.createElement("div",{className:"item-list"},t.map(function(e,t){var i=t+1+n*a;return r.a.createElement(m.a,{key:t,className:"show-item",to:"/pokemon/".concat(e.name)},r.a.createElement("img",{src:e.img,onError:function(){return o(t)},alt:i}),r.a.createElement("span",null,e.name))}))}),F=n(7),w="LEFT",x="RIGHT",H=function(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=e,r=[];a<=t;)r.push(a),a+=n;return r},U=function(e){function t(e){var n;Object(k.a)(this,t),(n=Object(I.a)(this,Object(O.a)(t).call(this,e))).gotoPage=function(e){var t=n.props.onPageChanged,a=void 0===t?function(e){return e}:t,r=Math.max(0,Math.min(e,n.totalPages)),o={currentPage:r,totalPages:n.totalPages,pageLimit:n.pageLimit,totalRecords:n.totalRecords};n.setState({currentPage:r},function(){return a(o)})},n.handleClick=function(e){n.gotoPage(e)},n.handleMoveLeft=function(){n.gotoPage(n.props.currentPage-2*n.pageNeighbours-1)},n.handleMoveRight=function(){n.gotoPage(n.props.currentPage+2*n.pageNeighbours+1)},n.fetchPageNumbers=function(){var e=n.totalPages,t=n.props.currentPage,a=n.pageNeighbours,r=2*n.pageNeighbours+3;if(e>r+2){var o=[],i=t-a,c=t+a,u=e-1,l=i>2?i:2,s=c<u?c:u,m=r-(o=H(l,s)).length-1,p=l>2,g=s<u,f=w,E=x;if(p&&!g){var h=H(l-m,l-1);o=[f].concat(Object(F.a)(h),Object(F.a)(o))}else if(!p&&g){var d=H(s+1,s+m);o=[].concat(Object(F.a)(o),Object(F.a)(d),[E])}else p&&g&&(o=[f].concat(Object(F.a)(o),[E]));return[1].concat(Object(F.a)(o),[e])}return H(1,e)};var a=e.totalRecords,r=void 0===a?null:a,o=e.pageLimit,i=void 0===o?30:o,c=e.pageNeighbours,u=void 0===c?0:c;return n.pageLimit="number"===typeof i?i:30,n.totalRecords="number"===typeof r?r:0,n.pageNeighbours="number"===typeof u?Math.max(0,Math.min(u,2)):0,n.totalPages=Math.ceil(n.totalRecords/n.pageLimit),n}return Object(S.a)(t,e),Object(y.a)(t,[{key:"componentDidMount",value:function(){this.gotoPage(1)}},{key:"render",value:function(){var e=this;if(!this.totalRecords)return null;if(1===this.totalPages)return null;var t=this.props.currentPage,n=this.fetchPageNumbers();return r.a.createElement(a.Fragment,null,r.a.createElement("nav",{"aria-label":"Countries Pagination"},r.a.createElement("ul",{className:"pagination"},n.map(function(n,a){return n===w?r.a.createElement("li",{key:a,className:"page-item"},r.a.createElement(m.a,{className:"page-link",to:"/pokemons/".concat(e.props.currentPage-1,"/"),"aria-label":"Previous"},r.a.createElement("i",{className:"fas fa-caret-left"}))):n===x?r.a.createElement("li",{key:a,className:"page-item"},r.a.createElement(m.a,{className:"page-link",to:"/pokemons/".concat(e.props.currentPage+1,"/"),"aria-label":"Next"},r.a.createElement("i",{className:"fas fa-caret-right"}))):r.a.createElement("li",{key:a,className:"page-item".concat(t===n?" active":"")},r.a.createElement(m.a,{className:"page-link",to:"/pokemons/".concat(n,"/"),onClick:function(){return e.handleClick(n)}},n))}))))}}]),t}(a.Component),A=function(e){function t(){return Object(k.a)(this,t),Object(I.a)(this,Object(O.a)(t).apply(this,arguments))}return Object(S.a)(t,e),Object(y.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.pageRouterSelected,n=e.listCount;this.props.fetchItems(t*n,n)}},{key:"componentDidUpdate",value:function(e){if(this.props.pageRouterSelected!==e.pageRouterSelected){var t=this.props,n=t.pageRouterSelected,a=t.listCount;this.props.fetchItems(n*a,a)}}},{key:"render",value:function(){var e=this.props,t=e.items,n=e.loading,a=e.error,o=e.listCount,i=e.itemsCount,c=e.pageRouterSelected,u=e.onError;return n?r.a.createElement(T,null):a?r.a.createElement(R,null):r.a.createElement(r.a.Fragment,null,r.a.createElement(M,{onError:u,listCount:o,pageRouterSelected:c,items:t}),r.a.createElement(U,{totalRecords:i,pageLimit:o,pageNeighbours:1,onPageChanged:function(){},currentPage:c+1}))}}]),t}(r.a.Component),D=b(C(),Object(c.b)(function(e){var t=e.pokemonsList;return{items:t.items,pageSelected:t.pageSelected,listCount:t.listCount,itemsCount:t.itemsCount,loading:t.loading,error:t.error}},function(e,t){var n=t.storeService;return{fetchItems:function(t,a){return e((r=n,function(e,t){return function(n){n({type:"FETCH_ITEMS_REQUEST"}),r.getPokemonList(e,t).then(function(e){return n({type:"FETCH_ITEMS_SUCCESS",payload:e})}).catch(function(e){return n({type:"FETCH_ITEMS_FAILURE",payload:e})})}})(t,a));var r},onImageError:function(t){return e(function(e){return{type:"ITEM_IMAGE_ERROR",payload:e}}(t))}}}))(function(e){var t=e.items,n=e.pageRouterSelected,a=e.fetchItems,o=e.listCount,i=e.itemsCount,c=e.loading,u=e.error,l=e.onImageError;return r.a.createElement(r.a.Fragment,null,r.a.createElement(A,{onError:function(e){l(e),console.clear()},fetchItems:a,pageRouterSelected:n,error:u,loading:c,itemsCount:i,listCount:o,items:t}))}),B=(n(58),function(){return r.a.createElement("main",{role:"main",className:"container"},r.a.createElement(f,null),r.a.createElement(l.a,null,r.a.createElement(s.a,{path:"/",component:E,exact:!0}),r.a.createElement(s.a,{path:"/pokemon/:name",render:function(e){var t=e.match.params.name;return r.a.createElement(N,{pokemon:t})},exact:!0}),r.a.createElement(s.a,{path:"/pokemons/:id",render:function(e){var t=e.match.params.id;return r.a.createElement(D,{pageRouterSelected:Number(t-1)})},exact:!0})))}),Q=function(e){function t(){var e,n;Object(k.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(I.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(r)))).state={hasError:!1},n}return Object(S.a)(t,e),Object(y.a)(t,[{key:"componentDidCatch",value:function(){this.setState({hasError:!0})}},{key:"render",value:function(){return this.state.hasError?r.a.createElement(R,null):this.props.children}}]),t}(a.Component),G=n(15),J=n.n(G),V=n(21),W=n(36),$=n.n(W),q=n(14),z=n(37),K=function(e,t){if(void 0===e)return{items:[],listCount:30,itemsCount:964,loading:!0,error:null};switch(t.type){case"FETCH_ITEMS_REQUEST":return{items:[],listCount:e.pokemonsList.listCount,itemsCount:e.pokemonsList.itemsCount,loading:!0,error:null};case"FETCH_ITEMS_SUCCESS":return{items:t.payload,listCount:e.pokemonsList.listCount,itemsCount:e.pokemonsList.itemsCount,loading:!1,error:null};case"FETCH_ITEMS_FAILURE":return{items:[],listCount:e.pokemonsList.listCount,itemsCount:e.pokemonsList.itemsCount,loading:!1,error:t.payload};case"ITEM_IMAGE_ERROR":return{items:[].concat(Object(F.a)(e.pokemonsList.items.slice(0,t.payload)),[{name:e.pokemonsList.items[t.payload].name,img:"https://pokemon-visualguide.com/assets/img/pokeball.png"}],Object(F.a)(e.pokemonsList.items.slice(t.payload+1))),listCount:e.pokemonsList.listCount,itemsCount:e.pokemonsList.itemsCount,loading:!1,error:null};default:return e.pokemonsList}},X=function(e,t){if(void 0===e)return{item:[],loading:!0,error:null};switch(t.type){case"FETCH_ITEM_REQUEST":return{item:[],loading:!0,error:null};case"FETCH_ITEM_SUCCESS":return{item:t.payload,loading:!1,error:null};case"FETCH_ITEM_FAILURE":return{item:[],loading:!1,error:t.payload};default:return e.pokemonDetails}},Y=function(e,t){return{pokemonsList:K(e,t),pokemonDetails:X(e,t)}},Z=Object(q.c)(Y,Object(q.a)(z.a)),ee=new function e(){var t=this;Object(k.a)(this,e),this._apiBase="https://pokeapi.co/api/v2",this.getResource=function(e){return $.a.get("".concat(t._apiBase).concat(e))},this.getPokemonList=function(){var e=Object(V.a)(J.a.mark(function e(n,a){var r;return J.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getResource("/pokemon/?offset=".concat(n,"&limit=").concat(a));case 2:return r=e.sent,e.abrupt("return",r.data.results.map(t.parcePokemons));case 4:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),this.getPokemon=function(){var e=Object(V.a)(J.a.mark(function e(n){var a;return J.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getResource("/pokemon/".concat(n,"/"));case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),this.getPokemonImage=function(e){return"https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/".concat(e,".png")},this._extractId=function(e){return e.url.match(/\/([0-9]*)\/$/)[1]},this.parcePokemons=function(e){var n=t._extractId(e);return{name:e.name,img:t.getPokemonImage(n)}}};i.a.render(r.a.createElement(c.a,{store:Z},r.a.createElement(Q,null,r.a.createElement(d,{value:ee},r.a.createElement(u.a,null,r.a.createElement(B,null))))),document.getElementById("app"))}},[[39,2,1]]]);
//# sourceMappingURL=main.604d950a.chunk.js.map