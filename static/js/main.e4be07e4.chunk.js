(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{34:function(e,t,a){e.exports=a.p+"static/media/logo.24c0b6c6.png"},39:function(e,t,a){e.exports=a(83)},48:function(e,t,a){},50:function(e,t,a){},52:function(e,t,a){},54:function(e,t,a){},56:function(e,t,a){},58:function(e,t,a){},60:function(e,t,a){},83:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(32),i=a.n(o),c=a(12),s=a(86),l=a(88),u=a(87),m=(a(48),a(85)),p=a(34),g=a.n(p),f=function(){return r.a.createElement("header",{className:"header row"},r.a.createElement(m.a,{to:"/#"},r.a.createElement("img",{className:"header-logo",src:g.a,alt:"logo"})))},h=(a(50),function(){return r.a.createElement(m.a,{to:"/pokemons/1/"},r.a.createElement("div",{className:"home-page"},r.a.createElement("span",{className:"browse-poke-link"},"Browse")))}),E=r.a.createContext(),d=E.Provider,b=E.Consumer,v=function(){return function(e){return function(t){return r.a.createElement(b,null,function(a){return r.a.createElement(e,Object.assign({},t,{storeService:a}))})}}},k=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return function(e){return t.reduceRight(function(e,t){return t(e)},e)}},C=a(6),y=a(8),I=a(10),P=a(9),O=a(11),S=a(38),T=(a(52),function(e){var t=e.item,a=Object(S.a)(e,["item"]),n=t.name,o=t.img,i=o.front?r.a.createElement("img",{src:o.front,alt:n}):r.a.createElement("img",{src:"https://pokemon-visualguide.com/assets/img/pokeball.png",alt:n}),c=o.back?r.a.createElement("img",{src:o.back,alt:n}):null;return r.a.createElement("div",{className:"preview-item-box"},r.a.createElement("h4",null,n),r.a.createElement("div",{className:"preview-item"},r.a.createElement("div",{className:"item-details-images"},i,c),r.a.createElement("div",{className:"item-details"},r.a.Children.map(a.children,function(e){return r.a.cloneElement(e,{item:t})}))),r.a.createElement("div",{className:"item-details-stats"},t.stats.map(function(e,t){var a={width:"".concat(e.stat/10,"vh"),background:"rgba(".concat(e.stat,", 150, 50, 1)")};return r.a.createElement(r.a.Fragment,{key:t},r.a.createElement("span",null,e.name,": ",e.stat),r.a.createElement("div",{className:"stats-bar"},r.a.createElement("div",{className:"stats-bar-progress",style:a})))})))}),j=(a(54),function(){return r.a.createElement("div",null,"404 not found!")}),R=(a(56),function(){return r.a.createElement("div",null,"loading...")}),_=function(e){var t=e.item,a=e.field,n=e.label,o=e.itemTag;return r.a.createElement(o,null,"".concat(n," ").concat(t[a]))},N=function(e){function t(){return Object(C.a)(this,t),Object(I.a)(this,Object(P.a)(t).apply(this,arguments))}return Object(O.a)(t,e),Object(y.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchItem(this.props.fetchItemValue)}},{key:"render",value:function(){var e=this.props,t=e.item,a=e.loading,n=e.error;return a?r.a.createElement(R,null):n?r.a.createElement(j,null):r.a.createElement(r.a.Fragment,null,r.a.createElement(T,{item:t},r.a.createElement(_,{itemTag:"span",label:"Weight: ",field:"weight"}),r.a.createElement(_,{itemTag:"span",label:"Height: ",field:"height"}),r.a.createElement(_,{itemTag:"span",label:"Abilities: ",field:"abilities"}),r.a.createElement(_,{itemTag:"span",label:"Type(s): ",field:"types"})))}}]),t}(r.a.Component),L=k(v(),Object(c.b)(function(e){var t=e.pokemonDetails;return{item:t.item,loading:t.loading,error:t.error}},function(e,t){var a=t.storeService;return{fetchItem:function(t){return e((n=a,function(e){return function(t){t({type:"FETCH_ITEM_REQUEST"}),n.getPokemon(e).then(function(e){return t({type:"FETCH_ITEM_SUCCESS",payload:e})}).catch(function(e){return t({type:"FETCH_ITEM_FAILURE",payload:e})})}})(t));var n}}}))(function(e){var t=e.item,a=e.loading,n=e.error,o=e.fetchItem,i=e.pokemon;return r.a.createElement(r.a.Fragment,null,r.a.createElement(N,{fetchItemValue:i,fetchItem:o,error:n,loading:a,item:t}))}),w=(a(58),function(e){var t=e.items,a=e.pageRouterSelected,n=e.listCount,o=e.onError;return r.a.createElement("div",{className:"item-list"},t.map(function(e,t){var i=t+1+a*n;return r.a.createElement(m.a,{key:t,className:"show-item",to:"/pokemon/".concat(e.name)},r.a.createElement("img",{src:e.img,onError:function(){return o(t)},alt:i}),r.a.createElement("span",null,e.name))}))}),M=a(7),F="LEFT",x="RIGHT",H=function(e,t){for(var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=e,r=[];n<=t;)r.push(n),n+=a;return r},U=function(e){function t(e){var a;Object(C.a)(this,t),(a=Object(I.a)(this,Object(P.a)(t).call(this,e))).gotoPage=function(e){var t=a.props.onPageChanged,n=void 0===t?function(e){return e}:t,r=Math.max(0,Math.min(e,a.totalPages)),o={currentPage:r,totalPages:a.totalPages,pageLimit:a.pageLimit,totalRecords:a.totalRecords};a.setState({currentPage:r},function(){return n(o)})},a.handleClick=function(e){a.gotoPage(e)},a.handleMoveLeft=function(){a.gotoPage(a.props.currentPage-2*a.pageNeighbours-1)},a.handleMoveRight=function(){a.gotoPage(a.props.currentPage+2*a.pageNeighbours+1)},a.fetchPageNumbers=function(){var e=a.totalPages,t=a.props.currentPage,n=a.pageNeighbours,r=2*a.pageNeighbours+3;if(e>r+2){var o=[],i=t-n,c=t+n,s=e-1,l=i>2?i:2,u=c<s?c:s,m=r-(o=H(l,u)).length-1,p=l>2,g=u<s,f=F,h=x;if(p&&!g){var E=H(l-m,l-1);o=[f].concat(Object(M.a)(E),Object(M.a)(o))}else if(!p&&g){var d=H(u+1,u+m);o=[].concat(Object(M.a)(o),Object(M.a)(d),[h])}else p&&g&&(o=[f].concat(Object(M.a)(o),[h]));return[1].concat(Object(M.a)(o),[e])}return H(1,e)};var n=e.totalRecords,r=void 0===n?null:n,o=e.pageLimit,i=void 0===o?30:o,c=e.pageNeighbours,s=void 0===c?0:c;return a.pageLimit="number"===typeof i?i:30,a.totalRecords="number"===typeof r?r:0,a.pageNeighbours="number"===typeof s?Math.max(0,Math.min(s,2)):0,a.totalPages=Math.ceil(a.totalRecords/a.pageLimit),a}return Object(O.a)(t,e),Object(y.a)(t,[{key:"componentDidMount",value:function(){this.gotoPage(1)}},{key:"render",value:function(){var e=this;if(!this.totalRecords)return null;if(1===this.totalPages)return null;var t=this.props.currentPage,a=this.fetchPageNumbers();return r.a.createElement(n.Fragment,null,r.a.createElement("nav",{"aria-label":"Countries Pagination"},r.a.createElement("ul",{className:"pagination"},a.map(function(a,n){return a===F?r.a.createElement("li",{key:n,className:"page-item"},r.a.createElement(m.a,{className:"page-link",to:"/pokemons/".concat(e.props.currentPage-1,"/"),"aria-label":"Previous"},r.a.createElement("i",{className:"fas fa-caret-left"}))):a===x?r.a.createElement("li",{key:n,className:"page-item"},r.a.createElement(m.a,{className:"page-link",to:"/pokemons/".concat(e.props.currentPage+1,"/"),"aria-label":"Next"},r.a.createElement("i",{className:"fas fa-caret-right"}))):r.a.createElement("li",{key:n,className:"page-item".concat(t===a?" active":"")},r.a.createElement(m.a,{className:"page-link",to:"/pokemons/".concat(a,"/"),onClick:function(){return e.handleClick(a)}},a))}))))}}]),t}(n.Component),A=function(e){function t(){return Object(C.a)(this,t),Object(I.a)(this,Object(P.a)(t).apply(this,arguments))}return Object(O.a)(t,e),Object(y.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.pageRouterSelected,a=e.listCount;this.props.fetchItems(t*a,a)}},{key:"componentDidUpdate",value:function(e){if(this.props.pageRouterSelected!==e.pageRouterSelected){var t=this.props,a=t.pageRouterSelected,n=t.listCount;this.props.fetchItems(a*n,n)}}},{key:"render",value:function(){var e=this.props,t=e.items,a=e.loading,n=e.error,o=e.listCount,i=e.itemsCount,c=e.pageRouterSelected,s=e.onError;return a?r.a.createElement(R,null):n?r.a.createElement(j,null):r.a.createElement(r.a.Fragment,null,r.a.createElement(w,{onError:s,listCount:o,pageRouterSelected:c,items:t}),r.a.createElement(U,{totalRecords:i,pageLimit:o,pageNeighbours:1,onPageChanged:function(){},currentPage:c+1}))}}]),t}(r.a.Component),D=k(v(),Object(c.b)(function(e){var t=e.pokemonsList;return{items:t.items,pageSelected:t.pageSelected,listCount:t.listCount,itemsCount:t.itemsCount,loading:t.loading,error:t.error}},function(e,t){var a=t.storeService;return{fetchItems:function(t,n){return e((r=a,function(e,t){return function(a){a({type:"FETCH_ITEMS_REQUEST"}),r.getPokemonList(e,t).then(function(e){return a({type:"FETCH_ITEMS_SUCCESS",payload:e})}).catch(function(e){return a({type:"FETCH_ITEMS_FAILURE",payload:e})})}})(t,n));var r},onImageError:function(t){return e(function(e){return{type:"ITEM_IMAGE_ERROR",payload:e}}(t))}}}))(function(e){var t=e.items,a=e.pageRouterSelected,n=e.fetchItems,o=e.listCount,i=e.itemsCount,c=e.loading,s=e.error,l=e.onImageError;return r.a.createElement(r.a.Fragment,null,r.a.createElement(A,{onError:function(e){l(e),console.clear()},fetchItems:n,pageRouterSelected:a,error:s,loading:c,itemsCount:i,listCount:o,items:t}))}),B=(a(60),function(){return r.a.createElement("main",{role:"main",className:"container"},r.a.createElement(f,null),r.a.createElement(l.a,null,r.a.createElement(u.a,{path:"/",component:h,exact:!0}),r.a.createElement(u.a,{path:"/pokemon/:name",render:function(e){var t=e.match.params.name;return r.a.createElement(L,{pokemon:t})},exact:!0}),r.a.createElement(u.a,{path:"/pokemons/:id",render:function(e){var t=e.match.params.id;return r.a.createElement(D,{pageRouterSelected:Number(t-1)})},exact:!0})))}),Q=function(e){function t(){var e,a;Object(C.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(I.a)(this,(e=Object(P.a)(t)).call.apply(e,[this].concat(r)))).state={hasError:!1},a}return Object(O.a)(t,e),Object(y.a)(t,[{key:"componentDidCatch",value:function(){this.setState({hasError:!0})}},{key:"render",value:function(){return this.state.hasError?r.a.createElement(j,null):this.props.children}}]),t}(n.Component),G=a(15),J=a.n(G),V=a(21),W=a(36),$=a.n(W),q=a(14),z=a(37),K=function(e,t){if(void 0===e)return{items:[],listCount:30,itemsCount:964,loading:!0,error:null};switch(t.type){case"FETCH_ITEMS_REQUEST":return{items:[],listCount:e.pokemonsList.listCount,itemsCount:e.pokemonsList.itemsCount,loading:!0,error:null};case"FETCH_ITEMS_SUCCESS":return{items:t.payload,listCount:e.pokemonsList.listCount,itemsCount:e.pokemonsList.itemsCount,loading:!1,error:null};case"FETCH_ITEMS_FAILURE":return{items:[],listCount:e.pokemonsList.listCount,itemsCount:e.pokemonsList.itemsCount,loading:!1,error:t.payload};case"ITEM_IMAGE_ERROR":return{items:[].concat(Object(M.a)(e.pokemonsList.items.slice(0,t.payload)),[{name:e.pokemonsList.items[t.payload].name,img:"https://pokemon-visualguide.com/assets/img/pokeball.png"}],Object(M.a)(e.pokemonsList.items.slice(t.payload+1))),listCount:e.pokemonsList.listCount,itemsCount:e.pokemonsList.itemsCount,loading:!1,error:null};default:return e.pokemonsList}},X=function(e,t){if(void 0===e)return{item:[],loading:!0,error:null};switch(t.type){case"FETCH_ITEM_REQUEST":return{item:[],loading:!0,error:null};case"FETCH_ITEM_SUCCESS":return{item:t.payload,loading:!1,error:null};case"FETCH_ITEM_FAILURE":return{item:[],loading:!1,error:t.payload};default:return e.pokemonDetails}},Y=function(e,t){return{pokemonsList:K(e,t),pokemonDetails:X(e,t)}},Z=Object(q.c)(Y,Object(q.a)(z.a)),ee=new function e(){var t=this;Object(C.a)(this,e),this._apiBase="https://pokeapi.co/api/v2",this.getResource=function(e){return $.a.get("".concat(t._apiBase).concat(e))},this.getPokemonList=function(){var e=Object(V.a)(J.a.mark(function e(a,n){var r;return J.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getResource("/pokemon/?offset=".concat(a,"&limit=").concat(n));case 2:return r=e.sent,e.abrupt("return",r.data.results.map(t.parcePokemons));case 4:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),this.getPokemon=function(){var e=Object(V.a)(J.a.mark(function e(a){var n;return J.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getResource("/pokemon/".concat(a,"/"));case 2:return n=e.sent,console.log(n.data),console.log(t.parcePokemon(n.data)),e.abrupt("return",t.parcePokemon(n.data));case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),this.getPokemonImage=function(e){return"https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/".concat(e,".png")},this._extractId=function(e){return e.url.match(/\/([0-9]*)\/$/)[1]},this.parcePokemons=function(e){var a=t._extractId(e);return{name:e.name,img:t.getPokemonImage(a)}},this.parcePokemon=function(e){var t=[],a=[],n=[];return e.abilities.forEach(function(e){t.push(e.ability.name)}),e.types.forEach(function(e){a.push(e.type.name)}),e.stats.forEach(function(e){n.push({name:e.stat.name,stat:e.base_stat})}),{name:e.name,img:{front:e.sprites.front_default,back:e.sprites.back_default},weight:e.weight/10+"kg",height:e.height/10+"m",base_exp:e.base_experience,abilities:t,types:a,stats:n}}};i.a.render(r.a.createElement(c.a,{store:Z},r.a.createElement(Q,null,r.a.createElement(d,{value:ee},r.a.createElement(s.a,null,r.a.createElement(B,null))))),document.getElementById("app"))}},[[39,2,1]]]);
//# sourceMappingURL=main.e4be07e4.chunk.js.map